{"is_source_file": true, "format": "JavaScript", "description": "This file implements authentication controller functions for user registration and login, handling JWT token creation, password hashing, and user validation.", "external_files": ["../store/db"], "external_methods": ["addUser", "findUserByEmail"], "published": ["register", "login"], "classes": [], "methods": [{"name": "signToken(user)", "description": "Helper function to generate a JWT token for a given user.", "scope": "", "scopeKind": ""}, {"name": "register(req, res, next)", "description": "Handles user registration by validating input, checking for existing users, hashing passwords, creating users, and returning JWT token with user info.", "scope": "", "scopeKind": ""}, {"name": "login(req, res, next)", "description": "Handles user login by verifying credentials, comparing password hashes, and returning a JWT token upon successful authentication.", "scope": "", "scopeKind": ""}], "calls": ["jwt.sign", "bcrypt.hash", "bcrypt.compare", "findUserByEmail", "addUser"], "search-terms": ["authController", "JWT", "register", "login", "passwordHash", "user registration", "user login", "jsonwebtoken", "bcryptjs"], "state": 2, "file_id": 16, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_SECRET", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^const DEFAULT_SECRET = 'dev_default_secret_change_me';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^const bcrypt = require('bcryptjs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^      email,$/", "language": "JavaScript", "kind": "field", "scope": "register.user", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^    email: user.email$/", "language": "JavaScript", "kind": "property", "scope": "signToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^      id: uuidv4(),$/", "language": "JavaScript", "kind": "property", "scope": "register.user", "scopeKind": "class"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^async function login(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "signToken", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^async function register(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^module.exports = { register, login };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "signToken", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^function signToken(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "sub", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^    sub: user.id,$/", "language": "JavaScript", "kind": "property", "scope": "signToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-30661-30670/notes_backend/src/controllers/authController.js", "pattern": "/^    const user = {$/", "language": "JavaScript", "kind": "class", "scope": "register", "scopeKind": "class"}], "hash": "d85e999f50f90f1e90bd8331fabaaa6c", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/controllers/authController.js", "fields": [{"name": "email,", "scope": "register.user", "scopeKind": "class", "description": "unavailable"}, {"name": "email: user.email", "scope": "signToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "id: uuidv4(),", "scope": "register.user", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = { register, login };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "sub: user.id,", "scope": "signToken.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}